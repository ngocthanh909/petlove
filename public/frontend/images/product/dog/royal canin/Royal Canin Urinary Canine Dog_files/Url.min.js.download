/**
 * Created by Glee.vn on 14-Aug-19.
 */
var Url=function(r){var n,t=(n=r,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n)),e=r,o={domain:"",protocol:"",path:"",query:{},fragment:""};function a(){if(!t)throw new TypeError(r+" is not a valid URL");var n,a=e;return(n=a.indexOf("#"))>-1&&(o.fragment=a.substring(n+1)||null,a=a.substring(0,n)),(n=a.indexOf("?"))>-1&&(o.query=function(r){if(!r)return{};if(!(r=r.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,t,e,o={},a=r.split("&"),i=a.length,u=0;u<i;u++)t=(n=a[u].split("=")).shift(),e=n.length?n.join("="):null,o.hasOwnProperty(t)?("string"!=typeof o[t]&&null!==o[t]||(o[t]=[o[t]]),o[t].push(e)):o[t]=e;return o}(a.substring(n+1))||null,a=a.substring(0,n)),"//"===a.substring(0,2)?(o.protocol=null,a=a.substring(2)):(n=a.indexOf(":"))>-1&&(o.protocol=a.substring(0,n)||null,a=a.substring(n+3)),(n=a.indexOf("/"))>-1?(o.domain=a.substring(0,n),o.path=a.substring(n+1)||null):(o.domain=a,o.path=null),o}return{parse:a,update:function(n){if(!t)throw new TypeError(r+" is not a valid URL");if(""==o.protocol&&a(),"object"!=typeof n||null==n)return console.log(n+" is not an object: {para:value}"),e;for(var i in n)o.query[i]=n[i];return function(){var r=o.protocol+"://"+o.domain;if("string"==typeof o.path&&("/"!==o.path.charAt(0)&&(r+="/"),r+=o.path),"object"==typeof o.query&&o.query){var n,t=[];for(var e in o.query)(n=o.query[e])&&""!=n&&t.push(e+"="+encodeURIComponent(n));r+="?"+t.join("&")}return"string"==typeof o.fragment&&o.fragment&&(r+="#"+o.fragment),r}()},getPara:function(n){if(!t)throw new TypeError(r+" is not a valid URL");return""==o.protocol&&a(),o.query.hasOwnProperty(n)?o.query[n]:null}}};